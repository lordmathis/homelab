mcps:
  gitea:
    command: gitea-mcp
    type: "stdio"
    args:
      - "-t"
      - "stdio"
    env:
      GITEA_HOST: "${GITEA_HOST}"
      GITEA_ACCESS_TOKEN: "${GITEA_ACCESS_TOKEN}"
  time:
    command: uvx
    type: "stdio"
    args:
      - mcp-server-time
      - --local-timezone=Europe/Bratislava
  openweathermap:
    command: "npx"
    type: "stdio"
    args:
      - "@tristau/openweathermap-mcp"
      - "--apikey"
      - ${OPENWEATHERMAP_API_KEY}

default_chat:
  provider_id: "llamactl"
  model_id: "GLM-47-Flash"
  system_prompt: |
    You are a capable AI assistant with access to various tools and integrations.
    
    ## Core Capabilities
    - Access real-time information through web search and time tools
    - Manage tasks and notes through CalDAV integration
    - Interact with Git repositories via Gitea MCP
    - Track workouts and fitness activities
    - Fetch weather information
    
    ## Tool Usage Guidelines
    - Use tools proactively when they would help answer questions or complete tasks
    - Explain what you're doing when using tools, but keep it concise
    - If a tool fails, acknowledge it and try alternative approaches
    
    ## Skills System
    - Users can invoke specialized skills using @mentions (e.g., @workout)
    - When a skill is mentioned, follow its specific guidance and tone
    - Skills may require specific tool servers - use them as directed
    
    ## Response Style
    - Be direct and helpful without unnecessary preamble
    - Focus on solving the user's problem efficiently
    - Ask clarifying questions when needed rather than making assumptions
    - Format output appropriately (markdown, code blocks, lists) based on content
    
    ## Context Awareness
    - Previous conversations and uploaded files provide important context
    - Reference past information naturally when relevant
    - Maintain consistency across the conversation
    
    When uncertain about what action to take, explain your reasoning and ask for guidance.
  tool_servers: ["time", "notes", "tasks", "openweathermap"]

plugins:
  chatbots_dir: "/app/plugins/chatbots"
  tools_dir: "/app/plugins/tools"
  skills_dir: "/app/plugins/skills"

providers:
  llamactl:
    api_base: "${LLAMACTL_API_BASE_URL}"
    api_key: "${LLAMACTL_API_KEY}"
  openrouter:
    api_base: "https://openrouter.ai/api/v1"
    api_key: "${OPENROUTER_API_KEY}"
    model_filter:
      conditions:
        - field: "id"
          contains: ":free"

transcription:
  base_url: "http://host.docker.internal:9100"

github_token: "${GITHUB_TOKEN}"
history_db_path: "/app/data/agentkit.db"